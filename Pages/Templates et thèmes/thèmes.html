<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../../../css/style.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://kit.fontawesome.com/19d905bb9a.js" crossorigin="anonymous"></script>

    <title></title>
</head>
<body>

    <h1>Creation d'un thème</h1>

    <a href="../../../index.html"> <button type="button" class="btn btn-success">Accueil</button></a> 

    <!-- BLOCK -->
    <article>

      <h2>Procédure de création</h2> 
      <p>Ici on va implémenter le thème dans un module, le cp22_saulnier_partners</p>
      <p>On peut constater qu'il s'agit d'un module classique déjà déclaré qui possède une logique de manager, gateway...</p>
      <img src="./images_thèmes/architecture_module.PNG" alt="">

      <h3>Implantation du hook dans le ".module" ou ".theme"</h3>   
      <p>Amélioration du fichier ".module" avec le hook cp22_saulnier_partners_theme</p>
      <pre>
        function cp22_saulnier_partners_theme($existing, $type, $theme, $path): array {
          return [
            'partners_slider' => [
              'variables' => ['partners' => NULL ]
            ]
          ];
        }
      </pre>
      <p>Le hook renvoi un render array composé de la div du container principal contenant une variable celle de partners initialisée à null. Elle sera agrémenté dans le build du Block Plugin partners </p>

      <img src="./images_thèmes/fichier_module_hook.PNG" alt="">

      <h4>Pour l'architecture du module</h4>
      <a href="https://www.drupal.org/docs/theming-drupal/twig-in-drupal/create-custom-twig-templates-for-custom-module">Créer un template custom</a>
      <img src="./images_thèmes/hook_theme.png" alt="">
      <p>drush cr</p>

      <h3>La fonction build dans le Plugin/Block</h3>
      <p>On construit notre build du block avec un render array</p>
      <img src="./images_thèmes/build_block.png" alt="">
      
      <p>Ici grâce au block on peut créer cette fonction build en la nourrissant de ce que l'on va récupérer dans le manager et gateway.</p>
      <p>Ici on peut donc construire notre build en renvoyer  :</p>
      <ul>
        <li>le nom de la page twig que drupal devra retrouver : <pre>"#theme"  => "partners_slider"</pre> </li>
        <li>le nom de la variable qui comprendra nos éléments (sous forme de tableau): <pre>"#partners" => [$terms]</pre> </li>
      </ul>
      <img src="./images_thèmes/buildBlockList.PNG" alt="">

      <h3>Le template twig</h3>
      <p>Après toute la construction de la logique et des différentes éléments, on peut construire la page twig qui rendra les éléments</p>
      <h4>Architecture</h4>
      <ul>
        <li><p>Création du dossier templates</p> </li>
        <li><p>Création du fichier partners-slider.html.twig comme définit dans le hook_theme et le build</p> </li>
      </ul>
      <img src="./images_thèmes/architecture_twig_template.PNG" alt="">

      <h3>Pour construire le template</h3>
      <p>On verifie sur le navigateur le nom qui peut etre adapté</p>
      <p>on appelle la variable dans le template</p>
      <p>dans le build bien penser à mettre la variable dans un tableau</p>
      <img src="./images_thèmes/archi_templates.png" alt="">

      <h4>Creation du twig</h4>
      <p>Le twig se compose d'une div principale PartnersSlider comme défini dans les build et module </p>
      <p>elle contient une boucle for qui va itérer sur la variable partners (définie dans le build)</p>
      <p>On lui ajoute une classe pour le css et on insère la variable</p>
      <a href="../Templates et thèmes/Twig.html">Voir comment écrire les classes</a>

      <img src="./images_thèmes/le_twig_template.PNG" alt="">

      <p>On cree des wrappers pour insérer les élements et on utilise une boucle for avec un pipe at_children et on insère la variable à l'intérieur </p>
      <img src="./images_thèmes/templates_du_block.png" alt="">

      <h3>Pour les images</h3>
      <p>On doit faire attention à bien regarder la taille des images avec ls mises à l'échelles </p>
      <p>par exemple 128 de haut et 300 de large pour la mise à l'échelle. On doit verifier la plus grande et la plus petite image et le rendu visuel de la page</p>

    </article>

    <br><hr><br>

    <!-- BLOCK -->

    <article>

      <h2></h2>  

      <h3></h3>
      <p></p>
      <p></p>

      <img src="" alt="">

    </article>




</body>
</html>






